syntax = "proto3";

package inference;

option go_package = "webrtc-pion-face-engine/proto;pb";

service FaceDetection {
  rpc DetectFaces (FrameRequest) returns (DetectionResponse);
}

message FrameRequest {
  bytes encoded_frame = 1;
  string codec = 2;
  int64 timestamp = 3;
  string frame_id = 4;
  int32 width = 5;
  int32 height = 6;
  int32 channels = 7;

}

message BoundingBox {
  int32 x = 1;
  int32 y = 2;
  int32 width = 3;
  int32 height = 4;
  float confidence = 5;
}

message DetectionResponse {
  repeated BoundingBox faces = 1;
  int64 timestamp = 2;
  string frame_id = 3;
  int64 processing_time_ms = 4;
}
